---
import type { Stats } from "../types";
import { round, suiToNumber, suiToString } from "../utils";
import Info from "./icons/Info.astro";

interface Props {
  stats: Stats;
}

const { stats } = Astro.props;
---

<div
  class="w-full max-w-lg stats stats-vertical lg:stats-horizontal bg-base-200 rounded-lg"
>
  <div class="stat">
    <div class="stat-title text-sm">Total SUI Staking</div>
    <div class="stat-value text-xl">
      {suiToString(stats.totalSuiStaking)}
    </div>
    <div class="stat-desc">
      = ~{round(suiToNumber(stats.totalSuiStaking) / stats.liSuiRatio)} LiSui
    </div>
  </div>

  <div class="stat">
    <div class="stat-title text-sm">SUI / LiSui</div>
    <div class="stat-value text-xl">
      {round(stats.liSuiRatio)} SUI
    </div>
    <div class="stat-desc">= 1 liSUI</div>
  </div>

  <div class="stat">
    <div class="stat-title text-sm flex gap-1 items-center">
      <div>APY</div>
      <div class="h-1/2 tooltip tooltip-left" data-tip="Mean validators APY">
        <Info />
      </div>
    </div>
    <div class="stat-value text-xl">{round(stats.averageApy, 2)}%</div>
    <div class="stat-desc">&nbsp;</div>
  </div>
</div>
